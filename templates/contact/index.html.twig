{% extends 'base.html.twig' %}

{% block title %}{{ page_title }}{% endblock %}

{% block body %}
    <h1>Contactez-nous</h1>
    <a href="{{ path('contact_list') }}" class="btn btn-secondary mb-3">Voir les messages reçus</a>


    {% if submitted %}
        <div class="alert alert-success">
            Merci pour votre message, nous vous répondrons rapidement.
        </div>
    {% endif %}

    {% if errors is defined and errors|length > 0 %}
        <div class="alert alert-danger">
            <ul>
                {% for error in errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <form method="post" action="{{ path('contact') }}">
        <div class="mb-3">
            <label for="name" class="form-label">Nom :</label>
            <input type="text" id="name" name="name" class="form-control" value="{{ name }}">
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email :</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ email }}">
        </div>
        <div class="mb-3">
            <label for="message" class="form-label">Message :</label>
            <textarea id="message" name="message" class="form-control" rows="5">{{ message }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">Envoyer</button>
    </form>
{% endblock %}
